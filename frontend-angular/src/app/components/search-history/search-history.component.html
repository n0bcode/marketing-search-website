<!-- search-history.component.html -->
<div class="bg-gray-100 p-4 border border-gray-300 rounded-lg shadow">
  <button
    (click)="toggleHistory.emit()"
    class="flex items-center text-blue-500 mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500"
  >
    <span class="material-icons mr-2">
      <mat-icon>{{
        showKeywordHistory ? "arrow_drop_down" : "arrow_drop_up"
      }}</mat-icon>
    </span>
    <span>{{
      showKeywordHistory ? "Ẩn lịch sử tìm kiếm" : "Hiện lịch sử tìm kiếm"
    }}</span>
  </button>
  <div
    [ngClass]="{
      'h-0 overflow-hidden': !showKeywordHistory,
      'transition-all duration-300': true
    }"
  >
    <h3 class="font-bold mb-2">Lịch sử tìm kiếm:</h3>
    <ul class="space-y-2">
      <li
        *ngFor="let keyword of keywordModels"
        (click)="loadAnalysis.emit(keyword.id)"
        class="p-2 rounded-md bg-white border border-gray-200 hover:bg-gray-200 cursor-pointer transition"
      >
        <span class="text-gray-700">{{ keyword.keyword }}</span>
        <br />
        <span class="text-gray-500 text-sm">
          ({{ keyword.updatedAt | date : "short" }})
        </span>
      </li>
    </ul>
  </div>
</div>
